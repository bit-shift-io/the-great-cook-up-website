const t={},s=t.join(process.cwd(),"./.next-fs-cache"),l=".ttl",f=(a,{cacheBaseKey:r,ttl:y})=>async(...i)=>{const S=`${r}${encodeURIComponent(JSON.stringify(i))}`,e=t.join(s,S),n=`${e}${l}`,o=async()=>{const c=await a(...i);return t.writeFileSync(e,JSON.stringify(c)),t.writeFileSync(n,JSON.stringify(new Date(Date.now()+y))),c};return t.existsSync(s)||t.mkdirSync(s),t.existsSync(e)&&t.existsSync(n)&&new Date(JSON.parse(t.readFileSync(n,"utf8"))).valueOf()>new Date().valueOf()?JSON.parse(t.readFileSync(e,"utf8")):o()};export{f as useFileSystemCache};
